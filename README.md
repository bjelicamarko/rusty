# rusty compiler

## v1.0
Rusty compiler v1.0 parses and evaluates expressions that support numbers, boolean values, arithmetic operators, logical operators and unary operators.

<br>

**Project architecture:**

![alt text](https://github.com/bjelicamarko/rusty/blob/main/picture.png)

<br>

- **Custom Lexer and Custom Parser** (Recursive Descent Parser) - build from scratch, AST from parser is returned as struct Expression, which is used by Semantic Analyzer.
- **Rustemo Lexer and Rustemo Parser** - generated by Rustemo library, tuned to the program's logic to return the same data structure Expression as the Custom parser, which is used by Semantic Analyzer.
- **Semantic Analyzer** - Checks types of operators and operands. For example: `true + 3` will produce an error, and diagnostics will print "Binary operator Plus is not defined for types Boolean and Integer."
- **Evaluator** - Recursively traverses the tree, computes expressions by nodes, and finally prints the result.
- **Diagnostics** - Reporting info and error messages.

**Grammar:**

```plaintext
Expression: LogicalExpression;
LogicalExpression: RelationalExpression LogicalExpressionRest;
LogicalExpressionRest: PipePipe RelationalExpression LogicalExpressionRest 
                     | EMPTY;
RelationalExpression: ArithmeticExpression RelationalExpressionRest;
RelationalExpressionRest: AmpersandAmpersand ArithmeticExpression RelationalExpressionRest
                        | EqualsEquals ArithmeticExpression RelationalExpressionRest
                        | BangEquals ArithmeticExpression RelationalExpressionRest
                        | EMPTY;
ArithmeticExpression: Term ArithmeticExpressionRest;
ArithmeticExpressionRest: Plus Term ArithmeticExpressionRest 
                        | Minus Term ArithmeticExpressionRest
                        | EMPTY;
Term: Factor TermRest;
TermRest: Mul Factor TermRest
        | Div Factor TermRest
        | EMPTY;
Factor: Bang Factor
      | OpenParenthesis Expression CloseParenthesis
      | Minus Factor
      | Number
      | True
      | False;

terminals
Number: /\d+(\.\d+)?/;
Bang: '!';
OpenParenthesis: '(';
CloseParenthesis: ')';
True: 'true';
False: 'false';
Plus: '+';
Minus: '-';
Mul: '*';
Div: '/';
AmpersandAmpersand: '&&';
PipePipe: '||';
EqualsEquals: '==';
BangEquals: '!=';
```
<br>

**Potential ideas for future work:**
- **Assignments and variables** 
- **Statements** 
- **if/else** 
- **Loops**
- **Functions**
- **Code generation (Propably to Assembly)**
